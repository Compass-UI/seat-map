<!--
Copyright 2013 The Toolkitchen Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->

<!--
/**
 * @module Quantum Paper Elements
 */
/**
 * paper-checkbox
 *
 * Example:
 *
 *    <paper-checkbox></paper-checkbox>
 *
 * @class paper-checkbox
 * @author The Polymer Authors
 */
-->

<link rel="import" href="../paper-radio-button/paper-radio-button.html">

<polymer-element name="paper-checkbox" extends="paper-radio-button" role="checkbox">
  <template>
    <link rel="stylesheet" href="paper-checkbox.css">

    <div id="checkboxContainer" class="{{ {labeled: label} | tokenList }}" >
      <paper-ink id="ink" color="{{checked ? inkOnColor : inkOffColor}}" duration="{{duration}}"></paper-ink>
      <div id="checkbox" on-animationend="{{checkboxAnimationEnd}}" on-webkitAnimationEnd="{{checkboxAnimationEnd}}"></div>
    </div>
    <div id="checkboxLabel" hidden?="{{!label}}">{{label}}<content></content></div>

  </template>
  <script>
    Polymer('paper-checkbox', {
      toggles: true,
      checkedChanged: function() {
        with (this.$.checkbox.classList) {
          toggle('checked', this.checked);
          toggle('unchecked', !this.checked);
          toggle('checkmark', !this.checked);
          toggle('box', this.checked);
        }
        this.setAttribute('aria-checked', this.checked ? 'true': 'false');
      },
      checkboxAnimationEnd: function() {
        with (this.$.checkbox.classList) {
          toggle('checkmark', this.checked);
          toggle('box', !this.checked);
        }
      }
    });
  </script>
</polymer-element>
